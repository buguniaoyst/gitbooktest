---
plugins:
  - katex
---

# 准备数据：归一化数值

表2-3给出了提取的四组数据，如果想要计算样本3和样本4之间的距离，可以使用下面的方法：![](/assets/计算样本之间的距离.png)

我们很容易发现，上面方程中数字差值最大的属性对计算结果的影响最大，也就是说，每年获取的飞行常客里程数对于计算结果的影响将远远大于表2-3中其他两个特征----玩视频游戏所耗时间百分比和每周消费冰淇淋公升数的影响。而产生这种现象的唯一原因，仅仅是因为飞行常客里程数远大于其他特征值。但海伦认为这三种特征是同等重要的，英雌作为三个等权重的特征之一，飞行常客里程数并不应该如此严重地影响到计算结果。

---

```
                                 表2-3 约会网站原始数据改进之后的样本数据
```

|  | 玩视频游戏所耗时间百分比 | 每年获得的飞行常客里程数 | 每周消费的冰淇淋公升数 | 样本分类 |
| :--- | :--- | :--- | :--- | :--- |
| 1 | 0.8 | 400 | 0.5 | 1 |
| 2 | 12 | 134000 | 0.9 | 3 |
| 3 | 0 | 20000 | 1.1 | 2 |
| 4 | 67 | 32000 | 0.1 | 2 |

在处理这种不同取值范围的特征值时，我们通常采用的方法时将数值归一化，如将取值范围处理为0到1或者-1到1之间。下面的公式可以将任意取值范围的特征值转化为0到1区间内的值：

newValue = \(oldValue-min\)/\(max-min\)

其中min和max分别是数据集中的最小特征值和最大特征值。虽然改变数值取值范围增加了分类器的复杂度，但为了得到准确结果，我们必须这样做。我们需要在文件kNN.py中增加一个新函数autoNorm\(\)，该函数可以自动将数字特征值转化为0到1区间。

程序清单2-3提供了函数autoNorm\(\)的代码。

```py
# 程序清单2-3 归一化特征值
def autoNorm(dataSet):
	minVals = dataSet.min(0)
	maxVals = dataSet.max(0)
	ranges = maxVals - minVals
	normDataSet = zeros(shape(dataSet))
	m = dataSet.shape[0]
	normDataSet = dataSet - tile(minVals, (m,1))
	normDataSet = normDataSet/tile(ranges, (m,1))
	return normDataSet,ranges,minVals
```



